<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Model Documentation - GlycoMe</title>
        <!-- Bootstrap 5 CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <!-- Bootstrap Icons -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
        />
        <!-- Google Fonts -->
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/static/style.css" />
    </head>
    <body>
        <!-- Navigation Bar -->
        <nav
            class="navbar navbar-expand-lg navbar-dark navbar-custom shadow-sm fixed-top"
        >
            <div class="container">
                <a
                    class="navbar-brand fw-bold d-flex align-items-center gap-2"
                    href="/"
                >
                    <img
                        src="/static/logo.jpeg"
                        alt="Logo"
                        style="
                            height: 28px;
                            width: auto;
                            border-radius: 4px;
                            object-fit: contain;
                        "
                    />
                    <span>GlycoMe</span>
                </a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/introduction"
                                >Introduction</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/how-to">How to use</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/calculate"
                                >Calculate personalized PPGI</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/saved">Saved results</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/about">About us</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Page Header -->
        <div class="hero-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <h1 class="display-4 fw-bold mb-3">
                            Machine Learning Model Documentation
                        </h1>
                        <p class="lead text-muted">
                            Understanding the core of the Personalized PPGI
                            Prediction System
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="container my-5">
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <div class="card shadow-sm border-0 p-4 mb-4">
                        <h2 class="fw-bold text-primary mb-3">
                            1. Overview of the PPGI Prediction Model
                        </h2>
                        <p>
                            The Personalized Postprandial Glycemic Index (PPGI)
                            Predictor is powered by a machine learning model
                            designed to estimate an individual's glycemic
                            response to a specific food item. Unlike the
                            standard Glycemic Index (GI), which is a
                            population-average measure, PPGI accounts for
                            **inter-individual variability** by incorporating
                            personal biometric and lifestyle factors alongside
                            the food's nutritional profile.
                        </p>
                        <p>
                            The model is trained on a comprehensive dataset that
                            correlates various input features with measured
                            postprandial glucose excursions. The deployed
                            backend loads a trained LightGBM model to predict
                            the incremental area under the curve (IAUC). The app
                            then computes the personalized glycemic index (PPGI)
                            as
                            <strong
                                >100 ร IAUC(food) รท IAUC(glucose
                                reference)</strong
                            >, where the glucose reference is a 100 g portion
                            with 16.7 g carbohydrate and 0 g protein/fat/fiber.
                        </p>

                        <h2 class="fw-bold text-primary mt-4 mb-3">
                            2. Model Input Features
                        </h2>
                        <p>
                            The model relies on a set of 13 features,
                            categorized into **Personal Biometrics** and **Food
                            Nutritional Composition**, to generate the PPGI
                            prediction. The quality and accuracy of the
                            prediction are directly dependent on the precision
                            of these inputs.
                        </p>

                        <h3 class="fw-semibold mt-3">
                            2.1. Personal Biometrics (Host Factors)
                        </h3>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered">
                                <thead class="table-primary">
                                    <tr>
                                        <th>Feature</th>
                                        <th>Data Type</th>
                                        <th>Description</th>
                                        <th>Relevance to PPGI</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>gender</code></td>
                                        <td>Categorical</td>
                                        <td>
                                            Biological sex of the individual.
                                        </td>
                                        <td>
                                            Influences basal metabolic rate and
                                            hormonal regulation of glucose.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>age</code></td>
                                        <td>Numerical (years)</td>
                                        <td>Age of the individual.</td>
                                        <td>
                                            Glucose tolerance generally
                                            decreases with age.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>weight</code></td>
                                        <td>Numerical (kg)</td>
                                        <td>Body weight in kilograms.</td>
                                        <td>
                                            Used in metabolic calculations and
                                            body mass index (BMI) proxy.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <code>waist_circumference</code>
                                        </td>
                                        <td>Numerical (cm)</td>
                                        <td>Measure of abdominal fat.</td>
                                        <td>
                                            A strong indicator of visceral fat
                                            and insulin resistance.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>birth_place</code></td>
                                        <td>Categorical/Text</td>
                                        <td>
                                            Geographic origin (used for
                                            potential genetic/environmental
                                            proxies).
                                        </td>
                                        <td>
                                            Captures population-level dietary
                                            and genetic predispositions.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>blood_group</code></td>
                                        <td>Categorical</td>
                                        <td>ABO blood type.</td>
                                        <td>
                                            Hypothesized to correlate with
                                            certain metabolic pathways.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>family_history</code></td>
                                        <td>Categorical</td>
                                        <td>
                                            Presence of diabetes/metabolic
                                            disorders in immediate family.
                                        </td>
                                        <td>
                                            A critical feature for genetic risk
                                            assessment.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>physical_activity</code></td>
                                        <td>Categorical</td>
                                        <td>
                                            Self-reported level of daily
                                            physical activity.
                                        </td>
                                        <td>
                                            Higher activity levels improve
                                            insulin sensitivity.
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h3 class="fw-semibold mt-3">
                            2.2. Food Nutritional Composition (Food Factors)
                        </h3>
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered">
                                <thead class="table-success">
                                    <tr>
                                        <th>Feature</th>
                                        <th>Data Type</th>
                                        <th>Unit</th>
                                        <th>Relevance to PPGI</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>food_item</code></td>
                                        <td>Categorical/Text</td>
                                        <td>N/A</td>
                                        <td>
                                            Identifies the food (used for
                                            lookups or as a feature itself).
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>carb</code></td>
                                        <td>Numerical</td>
                                        <td>g/100g</td>
                                        <td>
                                            The primary driver of the glycemic
                                            response.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>protein</code></td>
                                        <td>Numerical</td>
                                        <td>g/100g</td>
                                        <td>
                                            Modulates gastric emptying and
                                            insulin secretion.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>fat</code></td>
                                        <td>Numerical</td>
                                        <td>g/100g</td>
                                        <td>
                                            Slows digestion, potentially
                                            lowering the initial glucose peak.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>dietary_fiber</code></td>
                                        <td>Numerical</td>
                                        <td>g/100g</td>
                                        <td>
                                            Reduces carbohydrate absorption
                                            rate, leading to a flatter glucose
                                            curve.
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h2 class="fw-bold text-primary mt-4 mb-3">
                            3. Output and Interpretation
                        </h2>
                        <p>
                            The model's output is a single numerical value
                            representing the **Predicted Postprandial Glycemic
                            Index (PPGI)**. This value is an estimate of the
                            area under the curve (AUC) of the blood glucose
                            response over a two-hour period following the
                            consumption of the specified food, normalized to a
                            reference food (typically glucose).
                        </p>

                        <h3 class="fw-semibold mt-3">
                            PPGI Classification Tiers
                        </h3>
                        <div class="table-responsive">
                            <table class="table table-bordered text-center">
                                <thead class="table-info">
                                    <tr>
                                        <th>PPGI Range</th>
                                        <th>Classification</th>
                                        <th>Interpretation</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>40 - 55</strong></td>
                                        <td class="text-success fw-bold">
                                            Low Glycemic Response
                                        </td>
                                        <td>
                                            Expected to cause a slow, gradual
                                            rise in blood glucose. Highly
                                            recommended for stable blood sugar.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>56 - 70</strong></td>
                                        <td class="text-warning fw-bold">
                                            Medium Glycemic Response
                                        </td>
                                        <td>
                                            Causes a moderate rise in blood
                                            glucose. Suitable for consumption in
                                            controlled portions.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>71 - 110</strong></td>
                                        <td class="text-danger fw-bold">
                                            High Glycemic Response
                                        </td>
                                        <td>
                                            Expected to cause a rapid and high
                                            spike in blood glucose. Should be
                                            limited, especially for individuals
                                            with metabolic concerns.
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h2 class="fw-bold text-primary mt-4 mb-3">
                            4. Model Limitations and Future Work
                        </h2>
                        <p>
                            It is crucial to understand that the GlycoMe is a
                            research tool. Its predictions are statistical
                            estimates and should not replace professional
                            medical advice.
                        </p>
                        <ul>
                            <li>
                                <strong>Mock Implementation:</strong> The
                                current version uses a placeholder model. The
                                final production model will be a robust
                                regression algorithm (e.g., Random Forest or
                                Gradient Boosting) trained on real clinical
                                data.
                            </li>
                            <li>
                                <strong>Missing Factors:</strong> The model does
                                not currently account for factors like gut
                                microbiome composition, sleep quality, or stress
                                levels, all of which are known to influence
                                glucose response.
                            </li>
                            <li>
                                <strong>Data Generalization:</strong> The
                                model's accuracy is highest for data points
                                similar to its training set. Predictions for
                                highly novel food items or unique personal
                                profiles may have higher uncertainty.
                            </li>
                        </ul>
                        <p>
                            Future work is focused on integrating more advanced
                            features, expanding the training dataset, and
                            deploying the validated machine learning model for
                            more accurate, real-world predictions.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer-custom py-4 mt-5">
            <div class="container text-center">
                <p class="mb-0">
                    <i class="bi bi-c-circle"></i> 2025 GlycoMe. Developed by
                    the Department of Food Science and Technology, University of
                    Peradeniya.
                </p>
            </div>
        </footer>

        <!-- Bootstrap 5 JS Bundle -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
